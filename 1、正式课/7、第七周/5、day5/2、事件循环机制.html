<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // function fn1() {
        //     console.log(666);
        // }
        // setTimeout(function () {
        //     console.log(800); // 宏1
        // }, 0)
        // console.log(900);
        // async function fn() {
        //     console.log(999);
        //     await fn1();
        //     console.log(888); // 微1
        // }
        // let p = new Promise(function (resolve, reject) {
        //     console.log(200);
        //     setTimeout(function(){ // 宏2
        //         resolve();
        //     },0)
        //     // resolve(); // 
        //     console.log(300);
        // })
        // p.then(function () {
        //     console.log(100); 
        // });
        // fn();
        // 900 200 300 999 666 888 800 100


        // +  事件循环机制： JS代码执行分为主任务队列(同步)和等待任务队列(异步)；在执行主栈的代码时遇到同步的代码会立即执行，遇到异步的代码会先放到等待队列中，放入时区分是宏任务还是微任务，按照不同的任务放到等待队列中不同的池子里；当主栈执行完成时，要先去等待队列的微任务中去遍历任务，按照放入时间先后依次把微任务放到主栈中去执行，微任务执行完毕，再去执行宏任务。
        // + 宏任务: 定时器 ajax
        // + 微任务: (async await)  primise的then


        // async function async1() {
        //     console.log('async1 start');// 主2
        //     await async2();// await 后面的是同步
        //     console.log('async1 end'); // 微1
        // }
        // async function async2() {
        //     console.log('async2'); // 主3
        // }
        // console.log('script start');// 主1
        // setTimeout(() => {
        //     console.log('setTimeout'); // 宏1
        // }, 0);
        // async1();
        // new Promise(resolve => {
        //     console.log('promise1');// 主4
        //     resolve();
        // }).then(() => {
        //     console.log('promise2');// 微2
        // });
        // console.log('script end'); // 主5

        // 火花思维 15k 少儿教育游戏


        // console.log('1'); // 
        // setTimeout(function () { // 宏1
        //     console.log('2');
        //     new Promise(function (resolve) {
        //         console.log('4');
        //         resolve();
        //     }).then(function () {
        //         console.log('5'); // 微微1
        //     });
        // });
        // new Promise(function (resolve) {
        //     console.log('7'); // 
        //     resolve();
        // }).then(function () {
        //     console.log('8'); // 微1
        // });
        // setTimeout(function () { //  宏2
        //     console.log('9');
        //     new Promise(function (resolve) {
        //         console.log('11');
        //         resolve();
        //     }).then(function () {
        //         console.log('12'); // 
        //     });
        // });
        // 1 7 8 2 4 5 9 11 12
        // sessionStorage.setItem('sss',3333333)
    </script>
</body>

</html>